@model MaynaraMorango.Models.Home.HomeModal
<!-- Carousel
================================================== -->
<div id="myCarousel" class="carousel slide">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        <div class="item active">
            <img src="~/Imgs/local1.jpg">
            <div class="container">
                <div class="carousel-caption">
                    <h1>Venha conhecer o nosso estabelecimento</h1>
                    <p>
                        Com um espaço amplo, oferecemos para nossos clientes o melhor do ramo alimentício
                    </p>
                    <p>
                        <a class="btn btn-large btn-primary" href="#">Localização</a>
                    </p>
                </div>
            </div>
        </div>
        <div class="item">
            <img src="~/Imgs/local2.jpg">
            <div class="container">
                <div class="carousel-caption">
                    <h1>Atendimento On-Line</h1>
                    <p>
                        Faça seu pedido online e receba no conforto de sua casa
                    </p>
                    <p>
                        <a class="btn btn-large btn-primary" href="#">Criar Conta</a>
                    </p>
                </div>
            </div>
        </div>
        <div class="item">
            <img src="http://placehold.it/1500X500">
            <div class="container">
                <div class="carousel-caption">
                    <h1>Percentage-based sizing</h1>
                    <p>With "mobile-first" there is now only one percentage-based grid.</p>
                    <p><a class="btn btn-large btn-primary" href="#">Browse gallery</a></p>
                </div>
            </div>
        </div>
    </div>
    <a class="left carousel-control" href="#myCarousel" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
</div>
<!-- /.carousel -->

<!-- Modal -->




<div class="modal fade" id="modalsucesso">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body alert-success">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3><p class="text-success text-center">Usuario cadastro com Sucesso!!!</p></h3>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="modalCriar">
    @* @using (Html.BeginForm("Logarusuario", "Home", FormMethod.Post))
    {*@
    @using (Ajax.BeginForm("Novousuario", "Home", new AjaxOptions{HttpMethod = "POST"}, new{@id = "novousuario"}))
    {
        @Html.ValidationSummary()
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="text-center">Novo Usuário</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        @Html.LabelFor(x => x.Nome)
                        @Html.TextBoxFor(x => x.Nome, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Nome)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Usuario)
                        @Html.TextBoxFor(x => x.Usuario, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Usuario)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Senha)
                        @Html.PasswordFor(x => x.Senha, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Senha)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.CEP)
                        @Html.TextBoxFor(x => x.CEP, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.CEP)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Logradouro)
                        @Html.TextBoxFor(x => x.Logradouro, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Logradouro)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Numerolog)
                        @Html.TextBoxFor(x => x.Numerolog, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Numerolog)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Bairro)
                        @Html.TextBoxFor(x => x.Bairro, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Bairro)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Cidade)
                        @Html.TextBoxFor(x => x.Cidade, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Cidade)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Pontoreferencia)
                        @Html.TextBoxFor(x => x.Pontoreferencia, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Pontoreferencia)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Email)
                        @Html.TextBoxFor(x => x.Email, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Email)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Telefone)
                        @Html.TextBoxFor(x => x.Telefone, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Telefone)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Celular)
                        @Html.TextBoxFor(x => x.Celular, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Celular)
                    </div>
                </div>
                <div class="modal-footer">
                    <a href="#" class="btn btn-danger" data-dismiss="modal" id="btnfechar">Fechar</a>
                    <input type="submit" value="Criar" class="btn btn-default" id="enviarform"/>
                </div>
            </div>
        </div>
    }
</div>



<div class="modal fade" id="modalLogar">
    @using (Html.BeginForm("Logarusuario", "Home", FormMethod.Post))
    {
        @Html.ValidationSummary();
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="text-center">Área de Login</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        @Html.LabelFor(x => x.Usuario)
                        @Html.TextBoxFor(x => x.Usuario, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Usuario)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Senha)
                        @Html.PasswordFor(x => x.Senha, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.Senha)
                    </div>
                </div>
                <div class="modal-footer">
                    <a href="#" class="btn btn-danger" data-dismiss="modal">Fechar</a>
                    <input type="submit" value="Logar" class="btn btn-default" />
                </div>
            </div>
        </div>
    }
</div>
<!-- Modal -->



<script type="text/javascript">

    $(document).ready(function () {
        $('#enviarform').click(function () {
            $('#novousuario').ajaxForm(function () {
                $('#modalCriar').modal('hide');
                $.clearInput();
                $('#modalsucesso').modal('show');
            });

        });

        $("#CEP").mask("99999-999");
        $("#Celular").mask("(99)99999-9999");
        $("#Telefone").mask("(99)9999-9999");

        $.clearInput = function() {
            $('#formcriar').find('input[type=text], input[type=password], input[type=number], input[type=email], textarea').val('');
        };

        $('#modalCriar').on('hidden.bs.modal', function() {
            $.clearInput();
        });
    });


    $(function() {
        ko.applyBindings(viewModel);
    });

    var viewModel = {
        usuario: ko.observableArray([]),
        cadastrar: function(form, modalId) {
            form = $(form);
            if (!form.valid())
                alert('ooi');
            return;
        }
    };


</script>
